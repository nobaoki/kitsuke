<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç€ä»˜ã‘æ¡ˆä»¶ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Lucide ã‚¢ã‚¤ã‚³ãƒ³ã®ä»£æ›¿
        window.LucideReact = {
            Plus: () => React.createElement('span', {className: 'text-lg'}, '+'),
            Search: () => React.createElement('span', {className: 'text-lg'}, 'ğŸ”'),
            Edit2: () => React.createElement('span', {className: 'text-lg'}, 'âœï¸'),
            Eye: () => React.createElement('span', {className: 'text-lg'}, 'ğŸ‘ï¸'),
            FileText: () => React.createElement('span', {className: 'text-lg'}, 'ğŸ“„'),
            Users: () => React.createElement('span', {className: 'text-lg'}, 'ğŸ‘¥'),
            MessageSquare: () => React.createElement('span', {className: 'text-lg'}, 'ğŸ’¬'),
            Settings: () => React.createElement('span', {className: 'text-lg'}, 'âš™ï¸'),
            Calendar: () => React.createElement('span', {className: 'text-lg'}, 'ğŸ“…'),
            DollarSign: () => React.createElement('span', {className: 'text-lg'}, 'ğŸ’°'),
            TrendingUp: () => React.createElement('span', {className: 'text-lg'}, 'ğŸ“ˆ'),
            BarChart3: () => React.createElement('span', {className: 'text-lg'}, 'ğŸ“Š'),
            Lock: () => React.createElement('span', {className: 'text-lg'}, 'ğŸ”’'),
            User: () => React.createElement('span', {className: 'text-lg'}, 'ğŸ‘¤'),
            LogOut: () => React.createElement('span', {className: 'text-lg'}, 'ğŸšª'),
            Filter: () => React.createElement('span', {className: 'text-lg'}, 'ğŸ”½')
        };
    </script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        const { Plus, Search, Edit2, Eye, FileText, Users, MessageSquare, Settings, Calendar, DollarSign, TrendingUp, BarChart3, Lock, User, LogOut, Filter } = window.LucideReact;

        const KimonoManagementSystem = () => {
            const [isLoggedIn, setIsLoggedIn] = useState(false);
            const [currentUser, setCurrentUser] = useState(null);
            const [activeTab, setActiveTab] = useState('dashboard');
            const [showUserManagement, setShowUserManagement] = useState(false);
            const [loginForm, setLoginForm] = useState({ email: '', password: '' });
            const [loginError, setLoginError] = useState('');

            // ãƒ‡ãƒ¼ã‚¿ç®¡ç†
            const [projects, setProjects] = useState([]);
            const [communications, setCommunications] = useState([]);
            const [estimates, setEstimates] = useState([]);
            const [searchTerm, setSearchTerm] = useState('');
            const [filterStatus, setFilterStatus] = useState('all');
            const [showNewProject, setShowNewProject] = useState(false);

            // ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
            const [users, setUsers] = useState([
                { id: 1, email: 'admin@kimono.com', password: 'admin123', name: 'ç®¡ç†è€…', role: 'admin', isActive: true },
                { id: 2, email: 'hori@kimono.com', password: 'hori123', name: 'å €', role: 'staff', isActive: true },
                { id: 3, email: 'osasa@kimono.com', password: 'osasa123', name: 'å¤§ä½ã€…', role: 'staff', isActive: true },
                { id: 4, email: 'jyogahara@kimono.com', password: 'jyoga123', name: 'åŸãƒ¶åŸ', role: 'staff', isActive: true },
                { id: 5, email: 'aoki@kimono.com', password: 'aoki123', name: 'é’æœ¨', role: 'staff', isActive: true }
            ]);

            const [newUser, setNewUser] = useState({
                email: '',
                password: '',
                name: '',
                role: 'staff'
            });

            // æ–°è¦æ¡ˆä»¶ãƒ•ã‚©ãƒ¼ãƒ 
            const [newProject, setNewProject] = useState({
                clientName: '',
                prefecture: '',
                scene: '',
                clientType: '',
                staff: '',
                source: '',
                generatedDate: new Date().toISOString().split('T')[0],
                implementationDate: '',
                status: 'æ¡ˆä»¶ç™ºç”Ÿï¼ˆæœªé€£çµ¡ï¼‰',
                services: [],
                totalAmount: 0,
                confirmed: false
            });

            // ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
            const masterData = {
                prefectures: ['åŒ—æµ·é“', 'é’æ£®çœŒ', 'å²©æ‰‹çœŒ', 'å®®åŸçœŒ', 'ç§‹ç”°çœŒ', 'å±±å½¢çœŒ', 'ç¦å³¶çœŒ', 'èŒ¨åŸçœŒ', 'æ ƒæœ¨çœŒ', 'ç¾¤é¦¬çœŒ', 'åŸ¼ç‰çœŒ', 'åƒè‘‰çœŒ', 'æ±äº¬éƒ½', 'ç¥å¥ˆå·çœŒ'],
                scenes: ['ãŠå®®å‚ã‚Š', 'ä¸ƒäº”ä¸‰', 'æˆäººå¼', 'å’æ¥­å¼', 'å…¥å­¦å¼', 'çµå©šå¼', 'è‘¬å¼', 'ã‚¢ã‚¤ãƒ‰ãƒ«', 'ã‚¤ãƒ™ãƒ³ãƒˆ'],
                clientTypes: ['å€‹äºº', 'ãƒ›ãƒ†ãƒ«', 'æ—…è¡Œä¼šç¤¾', 'ã‚¤ãƒ™ãƒ³ãƒˆä¼šç¤¾', 'èŠ¸èƒ½é–¢é€£', 'ã‚­ãƒ£ãƒã‚¯ãƒ©', 'æ•™è‚²é–¢é€£', 'ç¾å®¹å®¤', 'å†™çœŸé¤¨'],
                staff: ['å €', 'å¤§ä½ã€…', 'åŸãƒ¶åŸ', 'é’æœ¨'],
                sources: ['é›»è©±å•ã„åˆã‚ã›', 'LINEå•ã„åˆã‚ã›', 'ãƒ¡ãƒ¼ãƒ«å•ã„åˆã‚ã›', 'åŸãƒ¶åŸå–¶æ¥­ãƒªã‚¹ãƒˆ', 'å¤§ä½ã€…å–¶æ¥­ãƒªã‚¹ãƒˆ', 'å €å–¶æ¥­ãƒªã‚¹ãƒˆ', 'é’æœ¨å–¶æ¥­ãƒªã‚¹ãƒˆ', 'ç´¹ä»‹', 'æ–°è¦å–¶æ¥­'],
                statuses: ['æ¡ˆä»¶ç™ºç”Ÿï¼ˆæœªé€£çµ¡ï¼‰', 'å•†è«‡ä¸­', 'å—æ³¨æœªå®Ÿæ–½æœªå…¥é‡‘', 'å—æ³¨æœªå®Ÿæ–½å…¥é‡‘æ¸ˆ', 'å—æ³¨å®Ÿæ–½æ¸ˆæœªå…¥é‡‘', 'æ¡ˆä»¶å®Œäº†'],
                services: [
                    { name: '[è²¸è¡£è£…ãƒ»ç€ä»˜ã‘]å¥³æ€§æµ´è¡£ãƒ™ãƒ¼ã‚·ãƒƒã‚¯ãƒ—ãƒ©ãƒ³', price: 6500, unit: 'å' },
                    { name: '[è²¸è¡£è£…ãƒ»ç€ä»˜ã‘]å¥³æ€§æµ´è¡£ãƒã‚¤ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒ³', price: 11000, unit: 'å' },
                    { name: '[è²¸è¡£è£…ãƒ»ç€ä»˜ã‘]å¥³æ€§ç€ç‰©ãƒ™ãƒ¼ã‚·ãƒƒã‚¯ãƒ—ãƒ©ãƒ³', price: 6500, unit: 'å' },
                    { name: '[è²¸è¡£è£…ãƒ»ç€ä»˜ã‘]å¥³æ€§ç€ç‰©ãƒã‚¤ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒ³', price: 11000, unit: 'å' },
                    { name: '[è²¸è¡£è£…ãƒ»ç€ä»˜ã‘]å¥³æ€§è¨ªå•ç€ãƒ™ãƒ¼ã‚·ãƒƒã‚¯ãƒ—ãƒ©ãƒ³', price: 15000, unit: 'å' },
                    { name: '[è²¸è¡£è£…ãƒ»ç€ä»˜ã‘]å¥³æ€§è¨ªå•ç€ãƒã‚¤ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒ³', price: 25000, unit: 'å' },
                    { name: '[è²¸è¡£è£…ãƒ»ç€ä»˜ã‘]å¥³æ€§è¨ªå•ç€ãƒ—ãƒ©ãƒãƒŠãƒ—ãƒ©ãƒ³', price: 35000, unit: 'å' },
                    { name: '[è²¸è¡£è£…ãƒ»ç€ä»˜ã‘]å¥³æ€§è¢´ãƒ™ãƒ¼ã‚·ãƒƒã‚¯ãƒ—ãƒ©ãƒ³', price: 25000, unit: 'å' },
                    { name: '[è²¸è¡£è£…ãƒ»ç€ä»˜ã‘]å¥³æ€§è¢´ãƒã‚¤ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒ³', price: 35000, unit: 'å' }
                ]
            };

            // ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿åˆæœŸåŒ–
            useEffect(() => {
                if (isLoggedIn) {
                    const sampleProjects = [
                        {
                            id: 1,
                            clientName: 'ç”°ä¸­æ§˜',
                            prefecture: 'æ±äº¬éƒ½',
                            scene: 'ä¸ƒäº”ä¸‰',
                            clientType: 'å€‹äºº',
                            staff: 'å €',
                            source: 'é›»è©±å•ã„åˆã‚ã›',
                            generatedDate: '2025-05-20',
                            implementationDate: '2025-06-15',
                            status: 'å•†è«‡ä¸­',
                            services: [{ name: '[è²¸è¡£è£…ãƒ»ç€ä»˜ã‘]å¥³æ€§ç€ç‰©ãƒ™ãƒ¼ã‚·ãƒƒã‚¯ãƒ—ãƒ©ãƒ³', price: 6500, quantity: 1 }],
                            totalAmount: 6500,
                            confirmed: false
                        },
                        {
                            id: 2,
                            clientName: 'ä½è—¤æ§˜',
                            prefecture: 'ç¥å¥ˆå·çœŒ',
                            scene: 'æˆäººå¼',
                            clientType: 'å€‹äºº',
                            staff: 'å¤§ä½ã€…',
                            source: 'LINEå•ã„åˆã‚ã›',
                            generatedDate: '2025-05-18',
                            implementationDate: '2025-07-10',
                            status: 'å—æ³¨æœªå®Ÿæ–½å…¥é‡‘æ¸ˆ',
                            services: [{ name: '[è²¸è¡£è£…ãƒ»ç€ä»˜ã‘]å¥³æ€§è¨ªå•ç€ãƒã‚¤ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒ³', price: 25000, quantity: 2 }],
                            totalAmount: 50000,
                            confirmed: true
                        }
                    ];
                    setProjects(sampleProjects);

                    const sampleCommunications = [
                        {
                            id: 1,
                            projectId: 1,
                            clientName: 'ç”°ä¸­æ§˜',
                            date: '2025-05-21',
                            content: 'ä¸ƒäº”ä¸‰ã®è©³ç´°ã«ã¤ã„ã¦é›»è©±ã§ã”ç›¸è«‡',
                            from: 'å €',
                            to: 'ç”°ä¸­æ§˜',
                            response: '6æœˆä¸­æ—¬å¸Œæœ›ã¨ã®ã“ã¨'
                        }
                    ];
                    setCommunications(sampleCommunications);
                }
            }, [isLoggedIn]);

            // ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†
            const handleLogin = () => {
                const user = users.find(u => 
                    u.email === loginForm.email && 
                    u.password === loginForm.password && 
                    u.isActive
                );

                if (user) {
                    setCurrentUser(user);
                    setIsLoggedIn(true);
                    setLoginError('');
                    setLoginForm({ email: '', password: '' });
                } else {
                    setLoginError('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¾ãŸã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“');
                }
            };

            // ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå‡¦ç†
            const handleLogout = () => {
                setCurrentUser(null);
                setIsLoggedIn(false);
                setActiveTab('dashboard');
            };

            // çµ±è¨ˆè¨ˆç®—
            const dashboardStats = {
                totalProjects: projects.length,
                activeProjects: projects.filter(p => p.status !== 'æ¡ˆä»¶å®Œäº†').length,
                totalRevenue: projects.reduce((sum, p) => sum + (p.confirmed ? p.totalAmount : 0), 0),
                completedProjects: projects.filter(p => p.status === 'æ¡ˆä»¶å®Œäº†').length
            };

            // ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
            const filteredProjects = projects.filter(project => {
                const matchesSearch = project.clientName.toLowerCase().includes(searchTerm.toLowerCase()) ||
                                     project.scene.toLowerCase().includes(searchTerm.toLowerCase());
                const matchesFilter = filterStatus === 'all' || project.status === filterStatus;
                return matchesSearch && matchesFilter;
            });

            // ã‚µãƒ¼ãƒ“ã‚¹è¿½åŠ 
            const addService = () => {
                setNewProject(prev => ({
                    ...prev,
                    services: [...prev.services, { name: '', price: 0, quantity: 1 }]
                }));
            };

            // ã‚µãƒ¼ãƒ“ã‚¹æ›´æ–°
            const updateService = (index, field, value) => {
                const updatedServices = [...newProject.services];
                updatedServices[index][field] = value;
                
                if (field === 'name') {
                    const service = masterData.services.find(s => s.name === value);
                    if (service) {
                        updatedServices[index].price = service.price;
                    }
                }
                
                setNewProject(prev => ({
                    ...prev,
                    services: updatedServices,
                    totalAmount: updatedServices.reduce((sum, s) => sum + (s.price * s.quantity), 0)
                }));
            };

            // æ–°è¦æ¡ˆä»¶ä¿å­˜
            const saveNewProject = () => {
                const project = {
                    ...newProject,
                    id: projects.length + 1
                };
                setProjects([...projects, project]);
                setNewProject({
                    clientName: '',
                    prefecture: '',
                    scene: '',
                    clientType: '',
                    staff: '',
                    source: '',
                    generatedDate: new Date().toISOString().split('T')[0],
                    implementationDate: '',
                    status: 'æ¡ˆä»¶ç™ºç”Ÿï¼ˆæœªé€£çµ¡ï¼‰',
                    services: [],
                    totalAmount: 0,
                    confirmed: false
                });
                setShowNewProject(false);
            };

            // è¦‹ç©æ›¸ç”Ÿæˆ
            const generateEstimate = (project) => {
                const estimate = {
                    id: estimates.length + 1,
                    projectId: project.id,
                    clientName: project.clientName,
                    date: new Date().toISOString().split('T')[0],
                    services: project.services,
                    totalAmount: project.totalAmount,
                    paymentTerms: 'å®Ÿæ–½æ—¥ã®1é€±é–“å‰ã¾ã§ã«äº‹å‰ãŠæŒ¯è¾¼ã¿',
                    validity: 'ç™ºè¡Œã‹ã‚‰ä¸€ãƒ¶æœˆ'
                };
                setEstimates([...estimates, estimate]);
                alert('è¦‹ç©æ›¸ãŒç”Ÿæˆã•ã‚Œã¾ã—ãŸ');
            };

            // ãƒ¦ãƒ¼ã‚¶ãƒ¼è¿½åŠ 
            const addUser = () => {
                if (!newUser.email || !newUser.password || !newUser.name) {
                    alert('ã™ã¹ã¦ã®é …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                    return;
                }

                if (users.some(u => u.email === newUser.email)) {
                    alert('ã“ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯æ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™');
                    return;
                }

                const user = {
                    id: users.length + 1,
                    ...newUser,
                    isActive: true
                };

                setUsers([...users, user]);
                setNewUser({ email: '', password: '', name: '', role: 'staff' });
                alert('ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸ');
            };

            // ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢
            if (!isLoggedIn) {
                return React.createElement('div', { className: 'min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4' },
                    React.createElement('div', { className: 'bg-white rounded-lg shadow-xl p-8 w-full max-w-md' },
                        React.createElement('div', { className: 'text-center mb-8' },
                            React.createElement('div', { className: 'bg-blue-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4' },
                                React.createElement(Lock, { className: 'h-8 w-8 text-blue-600' })
                            ),
                            React.createElement('h1', { className: 'text-2xl font-bold text-gray-900' }, 'ç€ä»˜ã‘æ¡ˆä»¶ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ '),
                            React.createElement('p', { className: 'text-gray-600 mt-2' }, 'ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„')
                        ),
                        React.createElement('div', { className: 'space-y-4' },
                            React.createElement('div', null,
                                React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-2' }, 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹'),
                                React.createElement('input', {
                                    type: 'email',
                                    className: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500',
                                    placeholder: 'example@kimono.com',
                                    value: loginForm.email,
                                    onChange: (e) => setLoginForm({...loginForm, email: e.target.value}),
                                    onKeyPress: (e) => e.key === 'Enter' && handleLogin()
                                })
                            ),
                            React.createElement('div', null,
                                React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-2' }, 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰'),
                                React.createElement('input', {
                                    type: 'password',
                                    className: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500',
                                    placeholder: 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›',
                                    value: loginForm.password,
                                    onChange: (e) => setLoginForm({...loginForm, password: e.target.value}),
                                    onKeyPress: (e) => e.key === 'Enter' && handleLogin()
                                })
                            ),
                            loginError && React.createElement('div', { className: 'bg-red-50 border border-red-200 rounded-lg p-3' },
                                React.createElement('p', { className: 'text-red-600 text-sm' }, loginError)
                            ),
                            React.createElement('button', {
                                onClick: handleLogin,
                                className: 'w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-200'
                            }, 'ãƒ­ã‚°ã‚¤ãƒ³')
                        ),
                        React.createElement('div', { className: 'mt-8 p-4 bg-gray-50 rounded-lg' },
                            React.createElement('h3', { className: 'text-sm font-semibold text-gray-700 mb-2' }, 'ãƒ‡ãƒ¢ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ'),
                            React.createElement('div', { className: 'text-xs text-gray-600 space-y-1' },
                                React.createElement('p', null, React.createElement('strong', null, 'ç®¡ç†è€…:'), ' admin@kimono.com / admin123'),
                                React.createElement('p', null, React.createElement('strong', null, 'å €:'), ' hori@kimono.com / hori123'),
                                React.createElement('p', null, React.createElement('strong', null, 'å¤§ä½ã€…:'), ' osasa@kimono.com / osasa123'),
                                React.createElement('p', null, React.createElement('strong', null, 'åŸãƒ¶åŸ:'), ' jyogahara@kimono.com / jyoga123'),
                                React.createElement('p', null, React.createElement('strong', null, 'é’æœ¨:'), ' aoki@kimono.com / aoki123')
                            )
                        )
                    )
                );
            }

            // ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
            const renderDashboard = () => (
                React.createElement('div', { className: 'space-y-6' },
                    React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-4 gap-6' },
                        React.createElement('div', { className: 'bg-blue-50 border border-blue-200 rounded-lg p-6' },
                            React.createElement('div', { className: 'flex items-center justify-between' },
                                React.createElement('div', null,
                                    React.createElement('p', { className: 'text-blue-600 text-sm font-medium' }, 'ç·æ¡ˆä»¶æ•°'),
                                    React.createElement('p', { className: 'text-2xl font-bold text-blue-900' }, dashboardStats.totalProjects)
                                ),
                                React.createElement(BarChart3, { className: 'h-8 w-8 text-blue-600' })
                            )
                        ),
                        React.createElement('div', { className: 'bg-green-50 border border-green-200 rounded-lg p-6' },
                            React.createElement('div', { className: 'flex items-center justify-between' },
                                React.createElement('div', null,
                                    React.createElement('p', { className: 'text-green-600 text-sm font-medium' }, 'é€²è¡Œä¸­æ¡ˆä»¶'),
                                    React.createElement('p', { className: 'text-2xl font-bold text-green-900' }, dashboardStats.activeProjects)
                                ),
                                React.createElement(TrendingUp, { className: 'h-8 w-8 text-green-600' })
                            )
                        ),
                        React.createElement('div', { className: 'bg-purple-50 border border-purple-200 rounded-lg p-6' },
                            React.createElement('div', { className: 'flex items-center justify-between' },
                                React.createElement('div', null,
                                    React.createElement('p', { className: 'text-purple-600 text-sm font-medium' }, 'ç¢ºå®šå£²ä¸Š'),
                                    React.createElement('p', { className: 'text-2xl font-bold text-purple-900' }, 'Â¥' + dashboardStats.totalRevenue.toLocaleString())
                                ),
                                React.createElement(DollarSign, { className: 'h-8 w-8 text-purple-600' })
                            )
                        ),
                        React.createElement('div', { className: 'bg-orange-50 border border-orange-200 rounded-lg p-6' },
                            React.createElement('div', { className: 'flex items-center justify-between' },
                                React.createElement('div', null,
                                    React.createElement('p', { className: 'text-orange-600 text-sm font-medium' }, 'å®Œäº†æ¡ˆä»¶'),
                                    React.createElement('p', { className: 'text-2xl font-bold text-orange-900' }, dashboardStats.completedProjects)
                                ),
                                React.createElement(Calendar, { className: 'h-8 w-8 text-orange-600' })
                            )
                        )
                    ),
                    React.createElement('div', { className: 'bg-white rounded-lg shadow-sm border border-gray-200 p-6' },
                        React.createElement('h3', { className: 'text-lg font-semibold mb-4' }, 'æœ€è¿‘ã®æ¡ˆä»¶'),
                        React.createElement('div', { className: 'space-y-3' },
                            projects.slice(0, 5).map(project => (
                                React.createElement('div', { key: project.id, className: 'flex items-center justify-between p-3 bg-gray-50 rounded' },
                                    React.createElement('div', null,
                                        React.createElement('p', { className: 'font-medium' }, project.clientName),
                                        React.createElement('p', { className: 'text-sm text-gray-600' }, project.scene + ' | ' + project.status)
                                    ),
                                    React.createElement('div', { className: 'text-right' },
                                        React.createElement('p', { className: 'font-medium' }, 'Â¥' + project.totalAmount.toLocaleString()),
                                        React.createElement('p', { className: 'text-sm text-gray-600' }, project.implementationDate)
                                    )
                                )
                            ))
                        )
                    )
                )
            );

            // æ¡ˆä»¶ç®¡ç†
            const renderProjects = () => (
                React.createElement('div', { className: 'space-y-6' },
                    React.createElement('div', { className: 'flex flex-col sm:flex-row gap-4 items-center justify-between' },
                        React.createElement('div', { className: 'flex gap-4 w-full sm:w-auto' },
                            React.createElement('div', { className: 'relative flex-1 sm:w-64' },
                                React.createElement(Search, { className: 'absolute left-3 top-2.5 h-4 w-4 text-gray-400' }),
                                React.createElement('input', {
                                    type: 'text',
                                    placeholder: 'æ¡ˆä»¶ã‚’æ¤œç´¢...',
                                    className: 'pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full',
                                    value: searchTerm,
                                    onChange: (e) => setSearchTerm(e.target.value)
                                })
                            ),
                            React.createElement('select', {
                                className: 'px-4 py-2 border border-gray-300 rounded-lg',
                                value: filterStatus,
                                onChange: (e) => setFilterStatus(e.target.value)
                            },
                                React.createElement('option', { value: 'all' }, 'å…¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹'),
                                masterData.statuses.map(status => (
                                    React.createElement('option', { key: status, value: status }, status)
                                ))
                            )
                        ),
                        React.createElement('button', {
                            onClick: () => setShowNewProject(true),
                            className: 'bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-700'
                        },
                            React.createElement(Plus, { className: 'h-4 w-4' }),
                            'æ–°è¦æ¡ˆä»¶'
                        )
                    ),
                    React.createElement('div', { className: 'bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden' },
                        React.createElement('div', { className: 'overflow-x-auto' },
                            React.createElement('table', { className: 'min-w-full divide-y divide-gray-200' },
                                React.createElement('thead', { className: 'bg-gray-50' },
                                    React.createElement('tr', null,
                                        React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'æ¡ˆä»¶No.'),
                                        React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'ä¾é ¼è€…å'),
                                        React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'ã‚·ãƒ¼ãƒ³'),
                                        React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'å®Ÿæ–½æ—¥'),
                                        React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'çŠ¶æ³'),
                                        React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'é‡‘é¡'),
                                        React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'æ“ä½œ')
                                    )
                                ),
                                React.createElement('tbody', { className: 'bg-white divide-y divide-gray-200' },
                                    filteredProjects.map((project) => (
                                        React.createElement('tr', { key: project.id, className: 'hover:bg-gray-50' },
                                            React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900' }, project.id),
                                            React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-900' }, project.clientName),
                                            React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-900' }, project.scene),
                                            React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-900' }, project.implementationDate),
                                            React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap' },
                                                React.createElement('span', {
                                                    className: `px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${
                                                        project.status === 'æ¡ˆä»¶å®Œäº†' ? 'bg-green-100 text-green-800' :
                                                        project.status === 'å•†è«‡ä¸­' ? 'bg-yellow-100 text-yellow-800' :
                                                        'bg-blue-100 text-blue-800'
                                                    }`
                                                }, project.status)
                                            ),
                                            React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-900' }, 'Â¥' + project.totalAmount.toLocaleString()),
                                            React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm font-medium' },
                                                React.createElement('div', { className: 'flex gap-2' },
                                                    React.createElement('button', { className: 'text-blue-600 hover:text-blue-900' }, React.createElement(Eye, { className: 'h-4 w-4' })),
                                                    React.createElement('button', { className: 'text-green-600 hover:text-green-900' }, React.createElement(Edit2, { className: 'h-4 w-4' })),
                                                    React.createElement('button', {
                                                        onClick: () => generateEstimate(project),
                                                        className: 'text-purple-600 hover:text-purple-900'
                                                    }, React.createElement(FileText, { className: 'h-4 w-4' }))
                                                )
                                            )
                                        )
                                    ))
                                )
                            )
                        )
                    ),
                    // æ–°è¦æ¡ˆä»¶è¿½åŠ ãƒ¢ãƒ¼ãƒ€ãƒ«
                    showNewProject && React.createElement('div', { className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50' },
                        React.createElement('div', { className: 'bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto' },
                            React.createElement('h2', { className: 'text-xl font-semibold mb-4' }, 'æ–°è¦æ¡ˆä»¶è¿½åŠ '),
                            React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-2 gap-4 mb-6' },
                                React.createElement('div', null,
                                    React.createElement('label', { className: 'block text-sm font-medium mb-2' }, 'ä¾é ¼è€…å'),
                                    React.createElement('input', {
                                        type: 'text',
                                        className: 'w-full px-3 py-2 border border-gray-300 rounded-lg',
                                        value: newProject.clientName,
                                        onChange: (e) => setNewProject({...newProject, clientName: e.target.value})
                                    })
                                ),
                                React.createElement('div', null,
                                    React.createElement('label', { className: 'block text-sm font-medium mb-2' }, 'éƒ½é“åºœçœŒ'),
                                    React.createElement('select', {
                                        className: 'w-full px-3 py-2 border border-gray-300 rounded-lg',
                                        value: newProject.prefecture,
                                        onChange: (e) => setNewProject({...newProject, prefecture: e.target.value})
                                    },
                                        React.createElement('option', { value: '' }, 'é¸æŠã—ã¦ãã ã•ã„'),
                                        masterData.prefectures.map(pref => (
                                            React.createElement('option', { key: pref, value: pref }, pref)
                                        ))
                                    )
                                ),
                                React.createElement('div', null,
                                    React.createElement('label', { className: 'block text-sm font-medium mb-2' }, 'ã‚·ãƒ¼ãƒ³'),
                                    React.createElement('select', {
                                        className: 'w-full px-3 py-2 border border-gray-300 rounded-lg',
                                        value: newProject.scene,
                                        onChange: (e) => setNewProject({...newProject, scene: e.target.value})
                                    },
                                        React.createElement('option', { value: '' }, 'é¸æŠã—ã¦ãã ã•ã„'),
                                        masterData.scenes.map(scene => (
                                            React.createElement('option', { key: scene, value: scene }, scene)
                                        ))
                                    )
                                ),
                                React.createElement('div', null,
                                    React.createElement('label', { className: 'block text-sm font-medium mb-2' }, 'å®Ÿæ–½æ—¥'),
                                    React.createElement('input', {
                                        type: 'date',
                                        className: 'w-full px-3 py-2 border border-gray-300 rounded-lg',
                                        value: newProject.implementationDate,
                                        onChange: (e) => setNewProject({...newProject, implementationDate: e.target.value})
                                    })
                                )
                            ),
                            React.createElement('div', { className: 'mb-6' },
                                React.createElement('div', { className: 'flex items-center justify-between mb-4' },
                                    React.createElement('h3', { className: 'text-lg font-medium' }, 'ã‚µãƒ¼ãƒ“ã‚¹å†…å®¹'),
                                    React.createElement('button', {
                                        onClick: addService,
                                        className: 'bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700'
                                    }, 'ã‚µãƒ¼ãƒ“ã‚¹è¿½åŠ ')
                                ),
                                newProject.services.map((service, index) => (
                                    React.createElement('div', { key: index, className: 'grid grid-cols-1 md:grid-cols-4 gap-2 mb-2' },
                                        React.createElement('select', {
                                            className: 'px-3 py-2 border border-gray-300 rounded-lg col-span-2',
                                            value: service.name,
                                            onChange: (e) => updateService(index, 'name', e.target.value)
                                        },
                                            React.createElement('option', { value: '' }, 'ã‚µãƒ¼ãƒ“ã‚¹ã‚’é¸æŠ'),
                                            masterData.services.map(s => (
                                                React.createElement('option', { key: s.name, value: s.name }, s.name)
                                            ))
                                        ),
                                        React.createElement('input', {
                                            type: 'number',
                                            placeholder: 'æ•°é‡',
                                            className: 'px-3 py-2 border border-gray-300 rounded-lg',
                                            value: service.quantity,
                                            onChange: (e) => updateService(index, 'quantity', parseInt(e.target.value) || 1)
                                        }),
                                        React.createElement('div', { className: 'px-3 py-2 bg-gray-100 rounded-lg' }, 'Â¥' + (service.price * service.quantity).toLocaleString())
                                    )
                                )),
                                React.createElement('div', { className: 'text-right mt-4' },
                                    React.createElement('p', { className: 'text-lg font-semibold' }, 'åˆè¨ˆ: Â¥' + newProject.totalAmount.toLocaleString())
                                )
                            ),
                            React.createElement('div', { className: 'flex gap-4 justify-end' },
                                React.createElement('button', {
                                    onClick: () => setShowNewProject(false),
                                    className: 'px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50'
                                }, 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«'),
                                React.createElement('button', {
                                    onClick: saveNewProject,
                                    className: 'px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700'
                                }, 'ä¿å­˜')
                            )
                        )
                    )
                )
            );

            // è¦‹ç©æ›¸ç®¡ç†
            const renderEstimates = () => (
                React.createElement('div', { className: 'space-y-6' },
                    React.createElement('div', { className: 'flex justify-between items-center' },
                        React.createElement('h2', { className: 'text-xl font-semibold' }, 'è¦‹ç©æ›¸ç®¡ç†')
                    ),
                    React.createElement('div', { className: 'grid gap-6' },
                        estimates.map((estimate) => (
                            React.createElement('div', { key: estimate.id, className: 'bg-white rounded-lg shadow-sm border border-gray-200 p-6' },
                                React.createElement('div', { className: 'flex justify-between items-start mb-6' },
                                    React.createElement('div', null,
                                        React.createElement('h3', { className: 'text-xl font-bold mb-2' }, 'å¾¡è¦‹ç©æ›¸'),
                                        React.createElement('p', { className: 'text-sm text-gray-600' }, 'å¾¡è¦‹ç©æ›¸ç•ªå·: ' + estimate.id),
                                        React.createElement('p', { className: 'text-sm text-gray-600' }, 'ä½œæˆæ—¥: ' + estimate.date)
                                    ),
                                    React.createElement('div', { className: 'text-right' },
                                        React.createElement('p', { className: 'font-bold' }, 'æ ªå¼ä¼šç¤¾ã€€å‡ºå¼µç€ä»˜ã‘.com'),
                                        React.createElement('p', { className: 'text-sm' }, 'ã€’170-0005 æ±äº¬éƒ½æ¸¯åŒºé«˜è¼ª4â€18â€12'),
                                        React.createElement('p', { className: 'text-sm' }, 'TEL 050-5444-0339')
                                    )
                                ),
                                React.createElement('div', { className: 'mb-6' },
                                    React.createElement('p', { className: 'mb-2' }, React.createElement('span', { className: 'font-medium' }, 'ä»¶å: '), 'å‡ºå¼µç€ä»˜ã‘ãŠè¦‹ç©ã‚Š'),
                                    React.createElement('p', { className: 'mb-2' }, React.createElement('span', { className: 'font-medium' }, 'ãŠå®¢æ§˜: '), estimate.clientName),
                                    React.createElement('p', { className: 'mb-2' }, React.createElement('span', { className: 'font-medium' }, 'æ”¯æ‰•æ¡ä»¶: '), estimate.paymentTerms),
                                    React.createElement('p', { className: 'mb-2' }, React.createElement('span', { className: 'font-medium' }, 'æœ‰åŠ¹æœŸé™: '), estimate.validity)
                                ),
                                React.createElement('div', { className: 'border rounded-lg overflow-hidden mb-4' },
                                    React.createElement('table', { className: 'min-w-full' },
                                        React.createElement('thead', { className: 'bg-gray-50' },
                                            React.createElement('tr', null,
                                                React.createElement('th', { className: 'px-4 py-3 text-left text-sm font-medium text-gray-900' }, 'é …ç›®'),
                                                React.createElement('th', { className: 'px-4 py-3 text-left text-sm font-medium text-gray-900' }, 'å˜ä¾¡'),
                                                React.createElement('th', { className: 'px-4 py-3 text-left text-sm font-medium text-gray-900' }, 'æ•°é‡'),
                                                React.createElement('th', { className: 'px-4 py-3 text-left text-sm font-medium text-gray-900' }, 'å°è¨ˆ')
                                            )
                                        ),
                                        React.createElement('tbody', { className: 'divide-y divide-gray-200' },
                                            estimate.services.map((service, index) => (
                                                React.createElement('tr', { key: index },
                                                    React.createElement('td', { className: 'px-4 py-3 text-sm' }, service.name),
                                                    React.createElement('td', { className: 'px-4 py-3 text-sm' }, 'Â¥' + service.price.toLocaleString()),
                                                    React.createElement('td', { className: 'px-4 py-3 text-sm' }, service.quantity),
                                                    React.createElement('td', { className: 'px-4 py-3 text-sm' }, 'Â¥' + (service.price * service.quantity).toLocaleString())
                                                )
                                            ))
                                        ),
                                        React.createElement('tfoot', { className: 'bg-gray-50' },
                                            React.createElement('tr', null,
                                                React.createElement('td', { colSpan: '3', className: 'px-4 py-3 text-sm font-medium text-right' }, 'åˆè¨ˆé‡‘é¡ï¼ˆç¨åˆ¥ï¼‰'),
                                                React.createElement('td', { className: 'px-4 py-3 text-sm font-bold' }, 'Â¥' + estimate.totalAmount.toLocaleString())
                                            )
                                        )
                                    )
                                ),
                                React.createElement('div', { className: 'flex justify-end gap-2' },
                                    React.createElement('button', { className: 'px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700' }, 'å°åˆ·'),
                                    React.createElement('button', { className: 'px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700' }, 'PDFå‡ºåŠ›')
                                )
                            )
                        )),
                        estimates.length === 0 && React.createElement('div', { className: 'text-center py-12 text-gray-500' },
                            React.createElement(FileText, { className: 'h-12 w-12 mx-auto mb-4 text-gray-400' }),
                            React.createElement('p', null, 'è¦‹ç©æ›¸ãŒã‚ã‚Šã¾ã›ã‚“'),
                            React.createElement('p', { className: 'text-sm' }, 'æ¡ˆä»¶ã‹ã‚‰è¦‹ç©æ›¸ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„')
                        )
                    )
                )
            );

            // ç¤¾å†…é€£çµ¡
            const renderCommunications = () => (
                React.createElement('div', { className: 'space-y-6' },
                    React.createElement('div', { className: 'flex justify-between items-center' },
                        React.createElement('h2', { className: 'text-xl font-semibold' }, 'ç¤¾å†…é€£çµ¡'),
                        React.createElement('button', { className: 'bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-700' },
                            React.createElement(Plus, { className: 'h-4 w-4' }),
                            'æ–°è¦é€£çµ¡'
                        )
                    ),
                    React.createElement('div', { className: 'bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden' },
                        React.createElement('table', { className: 'min-w-full divide-y divide-gray-200' },
                            React.createElement('thead', { className: 'bg-gray-50' },
                                React.createElement('tr', null,
                                    React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'æ¡ˆä»¶No.'),
                                    React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'å–å¼•å…ˆå'),
                                    React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'è¨˜å…¥æ—¥'),
                                    React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'é€£çµ¡äº‹é …'),
                                    React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'From'),
                                    React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'To')
                                )
                            ),
                            React.createElement('tbody', { className: 'bg-white divide-y divide-gray-200' },
                                communications.map((comm) => (
                                    React.createElement('tr', { key: comm.id, className: 'hover:bg-gray-50' },
                                        React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900' }, comm.projectId),
                                        React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-900' }, comm.clientName),
                                        React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-900' }, comm.date),
                                        React.createElement('td', { className: 'px-6 py-4 text-sm text-gray-900 max-w-xs truncate' }, comm.content),
                                        React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-900' }, comm.from),
                                        React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-900' }, comm.to)
                                    )
                                ))
                            )
                        )
                    )
                )
            );

            // ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
            const renderUserManagement = () => (
                React.createElement('div', { className: 'space-y-6' },
                    React.createElement('div', { className: 'flex justify-between items-center' },
                        React.createElement('h2', { className: 'text-xl font-semibold' }, 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†'),
                        React.createElement('button', {
                            onClick: () => setShowUserManagement(false),
                            className: 'px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600'
                        }, 'æˆ»ã‚‹')
                    ),
                    React.createElement('div', { className: 'bg-white rounded-lg shadow-sm border border-gray-200 p-6' },
                        React.createElement('h3', { className: 'text-lg font-semibold mb-4' }, 'æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼è¿½åŠ '),
                        React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-4 gap-4' },
                            React.createElement('input', {
                                type: 'email',
                                placeholder: 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹',
                                className: 'px-3 py-2 border border-gray-300 rounded-lg',
                                value: newUser.email,
                                onChange: (e) => setNewUser({...newUser, email: e.target.value})
                            }),
                            React.createElement('input', {
                                type: 'password',
                                placeholder: 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰',
                                className: 'px-3 py-2 border border-gray-300 rounded-lg',
                                value: newUser.password,
                                onChange: (e) => setNewUser({...newUser, password: e.target.value})
                            }),
                            React.createElement('input', {
                                type: 'text',
                                placeholder: 'åå‰',
                                className: 'px-3 py-2 border border-gray-300 rounded-lg',
                                value: newUser.name,
                                onChange: (e) => setNewUser({...newUser, name: e.target.value})
                            }),
                            React.createElement('select', {
                                className: 'px-3 py-2 border border-gray-300 rounded-lg',
                                value: newUser.role,
                                onChange: (e) => setNewUser({...newUser, role: e.target.value})
                            },
                                React.createElement('option', { value: 'staff' }, 'ã‚¹ã‚¿ãƒƒãƒ•'),
                                React.createElement('option', { value: 'admin' }, 'ç®¡ç†è€…')
                            )
                        ),
                        React.createElement('button', {
                            onClick: addUser,
                            className: 'mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700'
                        }, 'ãƒ¦ãƒ¼ã‚¶ãƒ¼è¿½åŠ ')
                    ),
                    React.createElement('div', { className: 'bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden' },
                        React.createElement('table', { className: 'min-w-full divide-y divide-gray-200' },
                            React.createElement('thead', { className: 'bg-gray-50' },
                                React.createElement('tr', null,
                                    React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'ID'),
                                    React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'åå‰'),
                                    React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹'),
                                    React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'å½¹å‰²'),
                                    React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'çŠ¶æ…‹')
                                )
                            ),
                            React.createElement('tbody', { className: 'bg-white divide-y divide-gray-200' },
                                users.map((user) => (
                                    React.createElement('tr', { key: user.id, className: 'hover:bg-gray-50' },
                                        React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900' }, user.id),
                                        React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-900' }, user.name),
                                        React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-900' }, user.email),
                                        React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-900' },
                                            React.createElement('span', {
                                                className: `px-2 py-1 text-xs rounded-full ${
                                                    user.role === 'admin' ? 'bg-purple-100 text-purple-800' : 'bg-blue-100 text-blue-800'
                                                }`
                                            }, user.role === 'admin' ? 'ç®¡ç†è€…' : 'ã‚¹ã‚¿ãƒƒãƒ•')
                                        ),
                                        React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-900' },
                                            React.createElement('span', {
                                                className: `px-2 py-1 text-xs rounded-full ${
                                                    user.isActive ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'
                                                }`
                                            }, user.isActive ? 'ã‚¢ã‚¯ãƒ†ã‚£ãƒ–' : 'ç„¡åŠ¹')
                                        )
                                    )
                                ))
                            )
                        )
                    )
                )
            );

            // ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
            if (showUserManagement && currentUser?.role === 'admin') {
                return React.createElement('div', { className: 'min-h-screen bg-gray-50' },
                    React.createElement('header', { className: 'bg-white shadow-sm border-b border-gray-200' },
                        React.createElement('div', { className: 'px-6 py-4' },
                            React.createElement('div', { className: 'flex items-center justify-between' },
                                React.createElement('h1', { className: 'text-2xl font-bold text-gray-900' }, 'ç€ä»˜ã‘æ¡ˆä»¶ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†'),
                                React.createElement('div', { className: 'flex items-center gap-4' },
                                    React.createElement('span', { className: 'text-sm text-gray-600' }, 'ãƒ­ã‚°ã‚¤ãƒ³ä¸­: ' + currentUser.name),
                                    React.createElement('button', {
                                        onClick: handleLogout,
                                        className: 'flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-900'
                                    },
                                        React.createElement(LogOut, { className: 'h-4 w-4' }),
                                        'ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ'
                                    )
                                )
                            )
                        )
                    ),
                    React.createElement('div', { className: 'p-6' }, renderUserManagement())
                );
            }

            return React.createElement('div', { className: 'min-h-screen bg-gray-50' },
                React.createElement('header', { className: 'bg-white shadow-sm border-b border-gray-200' },
                    React.createElement('div', { className: 'px-6 py-4' },
                        React.createElement('div', { className: 'flex items-center justify-between' },
                            React.createElement('h1', { className: 'text-2xl font-bold text-gray-900' }, 'ç€ä»˜ã‘æ¡ˆä»¶ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ '),
                            React.createElement('div', { className: 'flex items-center gap-4' },
                                React.createElement('span', { className: 'text-sm text-gray-600' }, 'ãƒ­ã‚°ã‚¤ãƒ³ä¸­: ' + currentUser?.name),
                                currentUser?.role === 'admin' && React.createElement('button', {
                                    onClick: () => setShowUserManagement(true),
                                    className: 'flex items-center gap-2 px-3 py-2 text-blue-600 hover:text-blue-800'
                                },
                                    React.createElement(User, { className: 'h-4 w-4' }),
                                    'ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†'
                                ),
                                React.createElement('button', {
                                    onClick: handleLogout,
                                    className: 'flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-900'
                                },
                                    React.createElement(LogOut, { className: 'h-4 w-4' }),
                                    'ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ'
                                ),
                                React.createElement('div', { className: 'text-sm text-gray-600' },
                                    new Date().toLocaleDateString('ja-JP')
                                )
                            )
                        )
                    )
                ),
                React.createElement('div', { className: 'flex' },
                    React.createElement('nav', { className: 'w-64 bg-white shadow-sm border-r border-gray-200 min-h-screen' },
                        React.createElement('div', { className: 'p-4' },
                            React.createElement('ul', { className: 'space-y-2' },
                                React.createElement('li', null,
                                    React.createElement('button', {
                                        onClick: () => setActiveTab('dashboard'),
                                        className: `w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left ${
                                            activeTab === 'dashboard' ? 'bg-blue-100 text-blue-700' : 'text-gray-700 hover:bg-gray-100'
                                        }`
                                    },
                                        React.createElement(BarChart3, { className: 'h-5 w-5' }),
                                        'ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰'
                                    )
                                ),
                                React.createElement('li', null,
                                    React.createElement('button', {
                                        onClick: () => setActiveTab('projects'),
                                        className: `w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left ${
                                            activeTab === 'projects' ? 'bg-blue-100 text-blue-700' : 'text-gray-700 hover:bg-gray-100'
                                        }`
                                    },
                                        React.createElement(Calendar, { className: 'h-5 w-5' }),
                                        'æ¡ˆä»¶ç®¡ç†'
                                    )
                                ),
                                React.createElement('li', null,
                                    React.createElement('button', {
                                        onClick: () => setActiveTab('communications'),
                                        className: `w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left ${
                                            activeTab === 'communications' ? 'bg-blue-100 text-blue-700' : 'text-gray-700 hover:bg-gray-100'
                                        }`
                                    },
                                        React.createElement(MessageSquare, { className: 'h-5 w-5' }),
                                        'ç¤¾å†…é€£çµ¡'
                                    )
                                ),
                                React.createElement('li', null,
                                    React.createElement('button', {
                                        onClick: () => setActiveTab('estimates'),
                                        className: `w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left ${
                                            activeTab === 'estimates' ? 'bg-blue-100 text-blue-700' : 'text-gray-700 hover:bg-gray-100'
                                        }`
                                    },
                                        React.createElement(FileText, { className: 'h-5 w-5' }),
                                        'è¦‹ç©æ›¸ç®¡ç†'
                                    )
                                ),
                                React.createElement('li', null,
                                    React.createElement('button', {
                                        onClick: () => setActiveTab('staff'),
                                        className: `w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left ${
                                            activeTab === 'staff' ? 'bg-blue-100 text-blue-700' : 'text-gray-700 hover:bg-gray-100'
                                        }`
                                    },
                                        React.createElement(Users, { className: 'h-5 w-5' }),
                                        'ç€ä»˜ã‘å¸«ç®¡ç†'
                                    )
                                ),
                                React.createElement('li', null,
                                    React.createElement('button', {
                                        onClick: () => setActiveTab('settings'),
                                        className: `w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left ${
                                            activeTab === 'settings' ? 'bg-blue-100 text-blue-700' : 'text-gray-700 hover:bg-gray-100'
                                        }`
                                    },
                                        React.createElement(Settings, { className: 'h-5 w-5' }),
                                        'è¨­å®š'
                                    )
                                )
                            )
                        )
                    ),
                    React.createElement('main', { className: 'flex-1 p-6' },
                        activeTab === 'dashboard' && renderDashboard(),
                        activeTab === 'projects' && renderProjects(),
                        activeTab === 'communications' && renderCommunications(),
                        activeTab === 'estimates' && renderEstimates(),
                        (activeTab === 'staff' || activeTab === 'settings') && React.createElement('div', { className: 'text-center py-12' },
                            React.createElement('h3', { className: 'text-lg font-semibold mb-2' }, activeTab === 'staff' ? 'ç€ä»˜ã‘å¸«ç®¡ç†' : 'ã‚·ã‚¹ãƒ†ãƒ è¨­å®š'),
                            React.createElement('p', { className: 'text-gray-600' }, 'æ©Ÿèƒ½æº–å‚™ä¸­ã§ã™')
                        )
                    )
                )
            );
        };

        ReactDOM.render(React.createElement(KimonoManagementSystem), document.getElementById('root'));
    </script>
</body>
</html>
